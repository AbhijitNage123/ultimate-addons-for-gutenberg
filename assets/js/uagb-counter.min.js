UAGBCounter={elements:{},init(e,t={}){this.elements=this.getDefaultElements(e),t.isFrontend||this.elements.counterWrapper.removeAttribute("played"),void 0!==this.elements.counterWrapper&&this.elements.counterWrapper&&(e=this._numberCount(t),this._inViewInit(e,t))},getDefaultElements(e){return{counterWrapper:this.getElement(e)}},getElement(e,t=null){let r=document.querySelector(e);if(r){if(t)return r.querySelector(t)}else{const a=document.querySelector('iframe[name="editor-canvas"]');if(a&&a.contentDocument&&(r=a.contentDocument.querySelector(e),t))return r=r.querySelector(t)}return r},_inViewInit(a,n){const o=this;const e=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;var r=t.hasAttribute("played");e.isIntersecting&&!r&&(a.error||("bars"===n.layout?o._triggerBar(t,n):"circle"===n.layout&&o._triggerCircle(t,n),a.start()))})},{threshold:1});e.observe(o.elements.counterWrapper)},_numberCount(e){var t=this.elements.counterWrapper.querySelector(".uagb-counter-block-number");if(void 0!==t&&t)return new window.countUp.CountUp(t,this._getEndNumber(e),{startVal:this._getStartNumber(e),duration:e.animationDuration,separator:e.thousandSeparator,useEasing:!1,decimalPlaces:e.decimalPlaces})},_triggerBar(e,t){const r=e.querySelector(".wp-block-uagb-counter__number");var a=this._getAnimationDuration(t),t=[{width:(t.startNumber<t.totalNumber?Math.ceil(t.startNumber/t.totalNumber*100):0)+"%"},{width:(t.endNumber<t.totalNumber?Math.ceil(t.endNumber/t.totalNumber*100):100)+"%"}],a={duration:a,fill:"forwards"};e.classList.contains("wp-block-uagb-counter--bars")&&r.animate(t,a),e.setAttribute("played",!0)},_triggerCircle(e,t){const r=e.querySelector(".wp-block-uagb-counter-circle-container svg #bar");var a=t.circleSize-20,a=Math.PI*a,n=t.totalNumber;let o=t.startNumber/n*100,u=(o=(o=100-(o=o<100?o:100))/100*a,t.endNumber/n*100);u=(u=100-(u=u<100?u:100))/100*a;n=this._getAnimationDuration(t),a=[{strokeDashoffset:o+"px"},{strokeDashoffset:u+"px"}];r.animate(a,{duration:n,fill:"forwards"}),e.setAttribute("played",!0)},_getAnimationDuration(e){return 1e3*e.animationDuration},_getStartNumber(e){return"bars"===e.layout||"circle"===e.layout?parseFloat(e.startNumber)/parseFloat(e.totalNumber)*100:e.startNumber},_getEndNumber(e){return"bars"===e.layout||"circle"===e.layout?parseFloat(e.endNumber)/parseFloat(e.totalNumber)*100:e.endNumber}};