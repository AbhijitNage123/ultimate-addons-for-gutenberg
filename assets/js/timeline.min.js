function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;var i=t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");if(0!==i.length)for(const a of i){const f=a.querySelector(".uagb-timeline__line__inner"),r=a.querySelector(".uagb-timeline__line");var n=a.querySelectorAll(".uagb-timeline__marker"),o=a.querySelector(".uagb-timeline__field:nth-last-child(2)");const b=o||a.querySelector(".block-editor-block-list__layout:last-child"),m=n[0],d=n[n.length-1];r.style.top=m?.offsetTop+"px";var l,o=b?.offsetHeight,s=b?.getBoundingClientRect().top;let e,t;a.classList.contains("uagb-timeline__arrow-center")?(r.style.bottom=d?.offsetTop+"px",t=s-m?.offsetTop,e=t):a.classList.contains("uagb-timeline__arrow-top")?(l=o-d?.offsetTop,r.style.bottom=l+"px",e=s):a.classList.contains("uagb-timeline__arrow-bottom")&&(l=o-d?.offsetTop,r.style.bottom=l+"px",t=s-m?.offsetTop,e=t+d?.offsetTop);var g,c,o=3*n[0]?.offsetHeight,_=document.documentElement.clientHeight/2+o,s=document.body,n=document.documentElement,o=Math.max(s.scrollHeight,s.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),s=o-d.getBoundingClientRect().top,n=o-m.getBoundingClientRect().top-s,o=m.getBoundingClientRect().top+window.scrollY-(window.innerHeight-window.innerHeight/3);o<document.documentElement.scrollTop&&((s=n/100*((document.documentElement.scrollTop-o)/n*100))<60+n&&(f.style.height=s+"px"));const u=a.querySelectorAll(".uagb-timeline__marker");let i=a.querySelectorAll(".uagb-timeline__field");0===i.length&&(i=a.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<u.length;e++)c=u[e].lastElementChild.getBoundingClientRect().top+window.scrollY,g=i[e].lastElementChild.getBoundingClientRect().top+window.scrollY,c=c-document.documentElement.scrollTop,g-document.documentElement.scrollTop<_?(i[e].classList.remove("out-view"),i[e].classList.add("in-view")):(i[e].classList.add("out-view"),i[e].classList.remove("in-view")),c<_?(u[e].classList.remove("uagb-timeline__out-view-icon"),u[e].classList.add("uagb-timeline__in-view-icon")):(u[e].classList.add("uagb-timeline__out-view-icon"),u[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);