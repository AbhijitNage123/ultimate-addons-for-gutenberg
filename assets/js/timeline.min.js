function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");var i=t;if(0!==i.length)for(const d of i){const g=d.querySelector(".uagb-timeline__line__inner"),_=d.querySelector(".uagb-timeline__line");var o=d.querySelectorAll(".uagb-timeline__marker"),l=d.querySelector(".uagb-timeline__field:nth-last-child(2)"),s=l||d.querySelector(".block-editor-block-list__layout:last-child"),a=o[0];const b=o[o.length-1];_.style.top=a?.offsetTop+"px";var c=s?.offsetHeight,l=s?.offsetTop;let e,t;d.classList.contains("uagb-timeline__arrow-center")?(_.style.bottom=b?.offsetTop+"px",t=l-a?.offsetTop,e=t+b?.getBoundingClientRect().top):d.classList.contains("uagb-timeline__arrow-top")?(s=c-+b?.getBoundingClientRect().top,_.style.bottom=s+"px",e=l+b?.getBoundingClientRect().top):d.classList.contains("uagb-timeline__arrow-bottom")&&(c=c-+b?.getBoundingClientRect().top,_.style.bottom=c+"px",t=l-a?.offsetTop,e=t+ +b?.getBoundingClientRect().top);var r,u,l=e+20,o=3*o[0]?.offsetHeight,m=document.documentElement.clientHeight/2+o,o=d.getBoundingClientRect().top+document.documentElement.scrollTop+d.offsetTop;let i=o+a?.offsetTop-document.documentElement.scrollTop;i=i<0?Math.abs(i):-Math.abs(i),o<m?m+Math.abs(i)<l?g.style.height=m+i+"px":i+m>=l&&(g.style.height=l+"px"):i+m<l?i<0?g.style.height=m-Math.abs(i)+"px":g.style.height=m+i+"px":i+m>=l&&(g.style.height=l+"px");const p=d.querySelectorAll(".uagb-timeline__marker");let n=d.querySelectorAll(".uagb-timeline__field");0===n.length&&(n=d.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<p.length;e++)u=p[e].lastElementChild.getBoundingClientRect().top+window.scrollY,r=n[e].lastElementChild.getBoundingClientRect().top+window.scrollY,u=u-document.documentElement.scrollTop,r-document.documentElement.scrollTop<m?(n[e].classList.remove("out-view"),n[e].classList.add("in-view")):(n[e].classList.add("out-view"),n[e].classList.remove("in-view")),u<m?(p[e].classList.remove("uagb-timeline__out-view-icon"),p[e].classList.add("uagb-timeline__in-view-icon")):(p[e].classList.add("uagb-timeline__out-view-icon"),p[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);