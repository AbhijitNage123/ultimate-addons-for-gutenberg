function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");var i=t;if(0!==i.length)for(const m of i){const d=m.querySelector(".uagb-timeline__line__inner"),g=m.querySelector(".uagb-timeline__line");var n=m.querySelectorAll(".uagb-timeline__marker"),l=m.querySelector(".uagb-timeline__field:nth-last-child(2)"),s=l||m.querySelector(".block-editor-block-list__layout:last-child"),a=n[0];const _=n[n.length-1];g.style.top=a?.offsetTop+"px";l=s?.offsetHeight,s=s?.offsetTop;let e,t;m.classList.contains("uagb-timeline__arrow-center")?(g.style.bottom=_?.offsetTop+"px",t=s-a?.offsetTop,e=t+_?.getBoundingClientRect().top):m.classList.contains("uagb-timeline__arrow-top")?(g.style.bottom=l-_.offsetTop+"px",e=s+_?.getBoundingClientRect().top):m.classList.contains("uagb-timeline__arrow-bottom")&&(g.style.bottom=l-_.offsetTop+"px",t=s-a?.offsetTop,e=t+ +_?.getBoundingClientRect().top);var c,r,s=e+20,n=3*n[0]?.offsetHeight,u=document.documentElement.clientHeight/2+n,n=m.getBoundingClientRect().top+document.documentElement.scrollTop+m.offsetTop;let i=n+a?.offsetTop-document.documentElement.scrollTop;i=i<0?Math.abs(i):-Math.abs(i),n<u?u+Math.abs(i)<s?d.style.height=u+i+"px":i+u>=s&&(d.style.height=s+"px"):i+u<s?i<0?d.style.height=u-Math.abs(i)+"px":d.style.height=u+i+"px":i+u>=s&&(d.style.height=s+"px");const b=m.querySelectorAll(".uagb-timeline__marker");let o=m.querySelectorAll(".uagb-timeline__field");0===o.length&&(o=m.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<b.length;e++)r=b[e].lastElementChild.getBoundingClientRect().top+window.scrollY,c=o[e].lastElementChild.getBoundingClientRect().top+window.scrollY,r=r-document.documentElement.scrollTop,c-document.documentElement.scrollTop<u?(o[e].classList.remove("out-view"),o[e].classList.add("in-view")):(o[e].classList.add("out-view"),o[e].classList.remove("in-view")),r<u?(b[e].classList.remove("uagb-timeline__out-view-icon"),b[e].classList.add("uagb-timeline__in-view-icon")):(b[e].classList.add("uagb-timeline__out-view-icon"),b[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);