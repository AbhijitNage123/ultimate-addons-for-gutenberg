import classnames from 'classnames';
import { InnerBlocks } from '@wordpress/block-editor';
import React from 'react';

const Render = ( props ) => {

	props = props.parentProps;
	const {
		attributes,
		className,
		deviceType,
	} = props;

	const {
		isPreview,
		block_id
	} = attributes;

	const direction = attributes[ 'direction' + deviceType ];

	const moverDirection = 'row' === direction ? 'horizontal' : 'vertical';

	const previewImageData = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAzNTAgMzUwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cmVjdCB4PSI0NS42NDQiIHk9IjQ3LjY0OSIgZmlsbD0iI0RCRENERSIgd2lkdGg9IjEyNC41IiBoZWlnaHQ9IjU0Ljk5MiIvPg0KCTwvZz4NCgk8Zz4NCgkJPHJlY3QgeD0iMTc4Ljg5NCIgeT0iNDcuNjQ5IiBmaWxsPSIjREJEQ0RFIiB3aWR0aD0iNjEuNDg0IiBoZWlnaHQ9IjU0Ljk5MiIvPg0KCQk8cmVjdCB4PSIyNDIuMjI3IiB5PSI0Ny42NDkiIGZpbGw9IiNEQkRDREUiIHdpZHRoPSI2MS40ODQiIGhlaWdodD0iNTQuOTkyIi8+DQoJPC9nPg0KPC9nPg0KPGc+DQoJPGc+DQoJCTxyZWN0IHg9IjQ1LjQ4NSIgeT0iMTEzLjE0OCIgZmlsbD0iI0RCRENERSIgd2lkdGg9IjYxLjQ4NCIgaGVpZ2h0PSI1NC45OTIiLz4NCgkJPGc+DQoJCQk8cmVjdCB4PSIxMDguODE4IiB5PSIxMTMuMTQ4IiBmaWxsPSIjREJEQ0RFIiB3aWR0aD0iNjEuNDg0IiBoZWlnaHQ9IjI2LjU0NCIvPg0KCQkJPHJlY3QgeD0iMTA4LjgxOCIgeT0iMTQxLjU2NyIgZmlsbD0iI0RCRENERSIgd2lkdGg9IjYxLjQ4NCIgaGVpZ2h0PSIyNi41NzMiLz4NCgkJPC9nPg0KCTwvZz4NCgk8Zz4NCgkJPHJlY3QgeD0iMjQyLjIyNyIgeT0iMTEzLjE0OCIgZmlsbD0iI0RCRENERSIgd2lkdGg9IjYxLjQ4NCIgaGVpZ2h0PSI1NC45OTIiLz4NCgkJPGc+DQoJCQk8cmVjdCB4PSIxNzguODkzIiB5PSIxMTMuMTQ4IiBmaWxsPSIjREJEQ0RFIiB3aWR0aD0iNjEuNDg0IiBoZWlnaHQ9IjI2LjU0NCIvPg0KCQkJPHJlY3QgeD0iMTc4Ljg5MyIgeT0iMTQxLjU2NyIgZmlsbD0iI0RCRENERSIgd2lkdGg9IjYxLjQ4NCIgaGVpZ2h0PSIyNi41NzMiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjxnPg0KCTxnPg0KCQk8cmVjdCB4PSIxNzguOTc3IiB5PSIyMDcuMzk4IiBmaWxsPSIjREJEQ0RFIiB3aWR0aD0iMTI0LjgxOCIgaGVpZ2h0PSIyNi42MjciLz4NCgkJPHJlY3QgeD0iMTc4LjgxIiB5PSIxNzguOTgyIiBmaWxsPSIjREJEQ0RFIiB3aWR0aD0iNjEuNDg0IiBoZWlnaHQ9IjI2LjU0MyIvPg0KCQk8cmVjdCB4PSIyNDIuMzEiIHk9IjE3OS4wMzMiIGZpbGw9IiNEQkRDREUiIHdpZHRoPSI2MS40ODQiIGhlaWdodD0iMjYuNTc0Ii8+DQoJPC9nPg0KCTxnPg0KCQk8cmVjdCB4PSI0NS41NjgiIHk9IjE3OC42NDgiIGZpbGw9IiNEQkRDREUiIHdpZHRoPSIxMjQuODE4IiBoZWlnaHQ9IjI2LjYyNyIvPg0KCQk8cmVjdCB4PSI0NS40MDEiIHk9IjIwNy4xNDgiIGZpbGw9IiNEQkRDREUiIHdpZHRoPSI2MS40ODQiIGhlaWdodD0iMjYuNTQ0Ii8+DQoJCTxyZWN0IHg9IjEwOC45MDEiIHk9IjIwNy4wNjciIGZpbGw9IiNEQkRDREUiIHdpZHRoPSI2MS40ODQiIGhlaWdodD0iMjYuNTczIi8+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=';
	return (
		isPreview ? <img width='100%' src={previewImageData}/> :
		<div
			className={ classnames(
				className,
				`uagb-block-${ block_id }`
			) }
			key = { block_id }
		>
			<InnerBlocks
				__experimentalMoverDirection={ moverDirection }
			/>
		</div>
	);
};
export default React.memo( Render );
